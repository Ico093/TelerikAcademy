<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Write a function for extracting all email addresses from given text. All substrings that match the format
        <identifier>@<host>…<domain>
        should be recognized as emails. Return the emails as array of strings.</title>
    <link href="styles/js-console.css" rel="stylesheet" />
</head>
<body>
    <label for="text">Enter text:</label>
    <input type="text" id="text" />
    <button type="button" onclick="Extract()">Extract emails!</button>
    <div id="js-console"></div>
    <script src="scripts/js-console.js"></script>
    <script>
        function Extract() {
            var emails = new Array();
            var text = document.getElementById("text").value.split(new RegExp("[ ,]+")).filter(function (value, index, text) { return value != ""; }).trim();
            debugger;
            var validator = new RegExp("^[_a-z0-9-]+(.[_a-z0-9-]+)*@[a-z0-9-]+(.[a-z0-9-]+)*(.[a-z]{2,3})$");
            for (var i = 0; i < text.length; i++) {
                var l = text[i].match(validator);
                if(text[i].match(validator))
                {
                    emails.push(text[i]);
                }
            }
            jsConsole.writeLine(emails.join(", "));
            return emails;
        }

        Array.prototype.trim=function()
        {
            var arr = this;
            for (var i = 0; i < arr.length; i++) {
                arr[i] = arr[i].trim();
            }
            return arr;
        }
    </script>
</body>
</html>
